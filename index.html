<!DOCTYPE html>
<html>
  <head>
    <title>Flatpak</title>
    <meta content='text/html; charset=UTF8' http-equiv='content-type'>
    <meta content='fixme' name='description'>
    <meta content='fixme' name='keywords'>
    <meta content='width=device-width,initial-scale=1' name='viewport'>
    <link href='/images/icons/favicon.png' rel='icon' type='image/png'>
    <link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'>
    <link href="stylesheets/site.css" rel="stylesheet" />
    <link href="/stylesheets/_animate.css" rel="stylesheet" />
    <link href="http://overpass-30e2.kxcdn.com/overpass.css" rel="stylesheet" />
  </head>
  <body id='page-top'>
    <nav class='navbar navbar-default navbar-fixed-top' id='mainNav'>
      <div class='container-fluid'>
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class='navbar-header'>
          <button class='navbar-toggle collapsed' data-target='#bs-example-navbar-collapse-1' data-toggle='collapse' type='button'>
            <span class='sr-only'>Toggle navigation</span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
          </button>
          <a class='navbar-brand page-scroll' href='#page-top'>Flatpak</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class='collapse navbar-collapse' id='bs-example-navbar-collapse-1'>
          <ul class='nav navbar-nav navbar-right'>
            <li>
              <a class='page-scroll' href='#about'>About</a>
            </li>
            <li>
              <a class='page-scroll' href='#users'>Users</a>
            </li>
            <li>
              <a class='page-scroll' href='#developers'>Developers</a>
            </li>
            <li>
              <a class='page-scroll' href='#contributions'>Contributions</a>
            </li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
    </nav>
  </body>
  <header>
    <div class='header-content'>
      <div class='header-content-inner'>
        <h1>the future of application distribution</h1>
        <hr>
          <p>Long gone are the days of trying to keep up with Linux distributions. Decouple your app from the OS Now!</p>
          <a class='btn btn-primary btn-xl page-scroll' href='#about'>Find Out How</a>
        </hr>
      </div>
    </div>
  </header>
  <section class='bg-primary' id='about'>
    <div class='container'>
      <div class='row'>
        <div class='col-lg-8 col-lg-offset-2 text-center'>
          <h2 class='section-heading'>Self-contained and future proof</h2>
          <hr class='light'>
            <p class='text-faded'>Distributing applications on Linux is a pain: different distributions, different versions, each with different library versions and conventions. Flatpak is here to change all that.</p>
            <p>&nbsp;</p>
          </hr>
        </div>
      </div>
    </div>
    <div class='container'>
      <div class='row'>
        <div class='col-lg-4 col-sm-6'>
          <h3 class='text-center'>Cross platform</h3>
          <p>Flatpak allows the same app to be installed on multiple Linux distributions</p>
        </div>
        <div class='col-lg-4 col-sm-6'>
          <h3 class='text-center'>Stable</h3>
          <p>With Flatpak, the same app can be installed on different distribution versions, without having to be updated</p>
        </div>
        <div class='col-lg-4 col-lg-offset-0 col-sm-6 col-sm-offset-3'>
          <h3 class='text-center'>Secure</h3>
          <p>Flatpak has been designed with security at heart, and provides a sandbox for each application</p>
        </div>
      </div>
      <div class='row'>
        <div class='col-lg-12 text-center'>
          <h2 class='voffset'>How it works</h2>
        </div>
      </div>
      <div class='row'>
        <div class='col-lg-4 col-sm-6'>
          <h3 class='text-center'>Runtimes</h3>
          <p>Runtimes contain the libraries and dependencies that you use to build your app. They are consistent across different distributions, and different runtime versions can be installed in parallel, meaning that your dependencies are always available in the form you expect.</p>
        </div>
        <div class='col-lg-4 col-sm-6'>
          <h3 class='text-center'>Bundles</h3>
          <p>If you want to use a library that isn't in a runtime, Flatpak allows it to bundle it as a part of your app. It is also possible to bundle modified versions of libraries that are present in a runtime.</p>
        </div>
        <div class='col-lg-4 col-lg-offset-0 col-sm-6 col-sm-offset-3'>
          <h3 class='text-center'>Sandboxes</h3>
          <p>Flatpak uses Linux technologies to isolate apps from the OS. This provides security for users, since they have limited access to files, system resources and hardware. (These features are still work in progress.)</p>
        </div>
      </div>
    </div>
  </section>
  <section id='users'>
    <div class='container'>
      <div class='row'>
        <div class='col-lg-10 col-lg-offset-1'>
          <h1 class='section-heading text-center'>User Information</h1>
          <hr class='primary'>
          <p>
            Flatpak has many advantages for users. Applications can be safely updated
            on a running system, without fear of conflicts occuring during the update
            process. Multiple versions of the same application can be installed at
            the same time, which allows having a nightly or experimental version
            alongside a stable release. In the future, the security first approach
            of Flatpak will guarantee greater privacy and peace of mind.
          </p>
          <h2>Trying Flatpak for yourself</h2>
          <p>
            A collection of experimental application builds are already available
            with Flatpak, so you can try it yourself. It is currently easiest to
            use Flatpak with Fedora or Ubuntu.
          </p>
          <h3>1. Install Flatpak</h3>
          <p>
            Before you can install applications with Flatpak, you need to install the
            Flatpak itself. Currently this has to be done using the command line.
          </p>
          <p>
            With Fedora, run:
          </p>
          <pre>$ sudo dnf install xdg-app</pre>
          <p>
            Or on Ubuntu, run:
          </p>
          <pre>$ sudo apt-get install xdg-app</pre>
          <h3>2. Add some repositories</h3>
          <p>
            Flatpak uses remote repositories as the source for software. For this
            example we're using two repositories: one which contains GNOME apps,
            and one which contains the runtime that provides the dependencies
            they need.
          </p>
          <pre>$ curl -O https://sdk.gnome.org/nightly/keys/nightly.gpg&#x000A;$ xdg-app --user remote-add --gpg-key=nightly.gpg gnome-nightly http://sdk.gnome.org/nightly/repo/</pre>
          <h3>3. Install the runtime</h3>
          <p>
            The runtime provides the dependencies needed by the apps in the GNOME
            repository.
          </p>
          <pre>$ xdg-app --user install gnome org.gnome.Platform 3.20</pre>
          <h3>4. View, install and run apps</h3>
          <p>
            To view the list of available apps, run:
          </p>
          <pre>$ xdg-app --user remote-ls gnome-apps --app</pre>
          <p>
            To install:
          </p>
          <pre>$ xdg-app --user install gnome-apps org.gnome.gedit stable</pre>
          <p>
            Installed applications should appear in the usual place. You can also run them from the command line:
          </p>
          <pre>&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%a{:href => "#building-basic"} Building a Basic Application&#x000A;&#x000A;%a{:href => "#building-complex"} Building a Complex Application&#x000A;&#x000A;%a{:href => "#automating"}&#x000A;  Automating using the&#x000A;  %code xdg-app-builder&#x000A;  tool&#x000A;&#x000A;%a{:href => "#sandbox"} The xdg-app Sandbox&#x000A;&#x000A;%a{:href => "#distribute"} How To Distribute a Flatpak&#x000A;&#x000A;%a{:href => "#appdata"} Software Center Metadata&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%a{:href => "getting.html"} xdg-app is installed&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ wget https://people.gnome.org/~alexl/keys/nightly.gpg&#x000A;$ xdg-app --user remote-add --gpg-key=nightly.gpg gnome-nightly http://sdk.gnome.org/nightly/repo&#x000A;$ xdg-app --user install gnome-nightly org.gnome.Platform&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;xdg-app --user update org.gnome.Platform&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%code hello.sh&#x000A;&#x000A;&#x000A;#!/bin/sh&#x000A;echo "Hello world, from a sandbox"&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;[Application]&#x000A;name=org.test.Hello&#x000A;runtime=org.gnome.Platform/x86_64/master&#x000A;command=hello.sh&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;mkdir appdir&#x000A;mkdir appdir/files&#x000A;mkdir appdir/files/bin&#x000A;mkdir appdir/export&#x000A;cp metadata appdir/&#x000A;cp hello.sh appdir/files/bin/&#x000A;chmod a+x appdir/files/bin/hello.sh&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;  xdg-app build-export repo appdir&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;xdg-app --user remote-add --no-gpg-verify tutorial-repo repo&#x000A;xdg-app --user install tutorial-repo org.test.Hello&#x000A;xdg-app run org.test.Hello&#x000A;&#x000A;&#x000A;&#x000A;%em Hello world, from a sandbox&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;[alex@localhost ~]$ xdg-app run --command=sh org.test.Hello&#x000A;sh-4.3$ ls -lR /app&#x000A;/app:&#x000A;total 0&#x000A;drwxr-xr-x 1 alex wheel 16 jan 1 1970 bin&#x000A;/app/bin:&#x000A;total 4&#x000A;-rwxr-xr-x 2 alex wheel 45 jan 1 1970 hello.sh&#x000A;sh-4.3$ echo $PATH&#x000A;/app/bin:/usr/bin&#x000A;sh-4.3$ hello.sh&#x000A;Hello world, from a sandbox&#x000A;sh-4.3$ ls -la ~/&#x000A;total 0&#x000A;drwxr-xr-x 3 alex wheel 60 feb 19 16:11 .&#x000A;drwxr-xr-x 3 alex wheel 60 feb 19 16:11 ..&#x000A;drwxr-xr-x 3 alex wheel 60 feb 19 16:11 .var&#x000A;sh-4.3$ ls ~/.var/app/org.test.Hello/&#x000A;cache  config  data&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%code /usr&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;xdg-app --user install gnome-nightly org.gnome.Sdk&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;wget https://download.gnome.org/sources/gnome-dictionary/3.19/gnome-dictionary-3.19.90.tar.xz&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;xdg-app build-init appdir2 org.gnome.Dictionary org.gnome.Sdk org.gnome.Platform&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app build appdir2 touch /app/some_file&#x000A;$ xdg-app build appdir2 ls -l /app&#x000A;total 0&#x000A;-rw-r--r-- 1 alex wheel 0 Feb 19 16:03 some_file&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;tar xvf gnome-dictionary-3.19.90.tar.xz&#x000A;cd gnome-dictionary-3.19.90/&#x000A;xdg-app build ../appdir2 ./configure --prefix=/app&#x000A;xdg-app build ../appdir2 make&#x000A;xdg-app build ../appdir2 make install&#x000A;cd ..&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;  xdg-app build-finish appdir2 --socket=x11 --share=network --command=gnome-dictionary&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;xdg-app build-export repo appdir2&#x000A;xdg-app --user install tutorial-repo org.gnome.Dictionary&#x000A;xdg-app run org.gnome.Dictionary&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;appdir2/export&#x000A;└── share&#x000A;    ├── applications&#x000A;    │   └── org.gnome.Dictionary.desktop&#x000A;    └── dbus-1&#x000A;        └── services&#x000A;            └── org.gnome.Dictionary.service&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;{&#x000A;  "app-id": "org.gnome.Dictionary",&#x000A;  "runtime": "org.gnome.Platform",&#x000A;  "runtime-version": "master",&#x000A;  "sdk": "org.gnome.Sdk",&#x000A;  "command": "gnome-dictionary",&#x000A;  "finish-args": [&#x000A;     "--socket=x11",&#x000A;     "--share=network"&#x000A;  ],&#x000A;  "modules": [&#x000A;    {&#x000A;      "name": "gnome-dictionary",&#x000A;      "sources": [&#x000A;        {&#x000A;          "type": "archive",&#x000A;          "url": "https://download.gnome.org/sources/gnome-dictionary/3.19/gnome-dictionary-3.19.90.tar.xz",&#x000A;          "sha256": "c719333d77b8c1dffc46baab2402bad565bd949440b5b625d758047a98493418"&#x000A;        }&#x000A;      ]&#x000A;    }&#x000A;  ]&#x000A;}&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app-builder --repo=repo appdir3 org.gnome.Dictionary.json&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app --user update org.gnome.Dictionary&#x000A;$ xdg-app run org.gnome.Dictionary&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;It ran the builds without access to any part of the host filesystem, other than the directory with the extracted sources.&#x000A;This means less chance of the build machine details affecting the build.&#x000A;&#x000A;&#x000A;Translations were also extracted to separately installable runtimes called&#x000A;%code&#x000A;  org.gnome.Dictionary.Locale.&#x000A;  %em $lang&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;"cleanup": [ "/include", "/bin/foo-*", "*.a" ]&#x000A;"cleanup-commands": [ "sed s/foo/bar/ /bin/app.sh" ]&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%em rename-icon&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%a{:href => "https://github.com/alexlarsson/gnome-apps-nightly/blob/master/org.gnome.Dictionary.json"} gnome-dictionary built from git&#x000A;&#x000A;%a{:href => "https://github.com/alexlarsson/nightly-build-apps"} here&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;Processes are in a cgroup which they cannot get out of.&#x000A;This lets you know what application a process is running in, in an unfakable way.&#x000A;(This will be very important later for per-application preferences.)&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;A set of seccomp rules are loaded that limits what syscalls the app can do.&#x000A;For instance, it can't use nonstandard network socket types, or ptrace other processes.&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%em Portals&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;  xdg-app build-finish appdir2 --socket=x11 --share=network --command=gnome-dictionary&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;[Application]&#x000A;name=org.gnome.Dictionary&#x000A;runtime=org.gnome.Platform/x86_64/master&#x000A;sdk=org.gnome.Sdk/x86_64/master&#x000A;command=gnome-dictionary&#x000A;&#x000A;[Context]&#x000A;shared=network;&#x000A;sockets=x11;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app run --command=ls org.gnome.Dictionary ~/&#x000A;<nothing>&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app run --filesystem=home --command=ls org.gnome.Dictionary ~/&#x000A;<homedir listing...>&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app --user override --filesystem=home org.gnome.Dictionary&#x000A;$ xdg-app run --command=ls org.gnome.Dictionary ~/&#x000A;<homedir listing...>&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;$ xdg-app run --nofilesystem=home --command=ls org.gnome.Dictionary ~/&#x000A;<nothing>&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;  --filesystem=host    # All files&#x000A;  --filesystem=home    # Your homedirectory&#x000A;  --filesystem=home:ro # Your homedirectory, read-only&#x000A;  --filesystem=/some/dir --filesystem=~/other/dir # paths&#x000A;  --filesystem=xdg-download # The XDG Download directory&#x000A;  --nofilesystem=...&#x000A;  # Undo some of the above&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;--socket=x11 --share=ipc&#x000A;&#x000A;&#x000A;Note: --share=ipc means that the sandbox shares ipc namespace with the host.&#x000A;This is not necessarily required, but without it the X shared memory extension will not work, which is very bad for X performance.&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;--device=dri&#x000A;&#x000A;&#x000A;&#x000A;--socket=wayland&#x000A;&#x000A;&#x000A;&#x000A;--socket=pulseaudio&#x000A;&#x000A;&#x000A;&#x000A;&#x000A; --share=network&#x000A;&#x000A;&#x000A;Note: Giving network access also grants access to all host services listening on abstract unix sockets (due to how network namespaces work), and these have no permission checks.&#x000A;This unfortunately affects e.g.&#x000A;the X server and the session bus which listens to abstract sockets by default.&#x000A;A secure distribution should disable these and just use regular sockets.&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;--talk-name=org.freedesktop.secrets&#x000A;&#x000A;&#x000A;&#x000A;&#x000A; --system-talk-name=org.freedesktop.GeoClue2&#x000A;&#x000A;&#x000A;&#x000A;&#x000A; --socket=system-bus --socket=session-bus&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%em archive-z2&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%em archive-z2&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%em static deltas&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;xdg-app build-update-repo --title="Nice name" repo&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%a{:href => "https://blogs.gnome.org/alexl/2016/02/22/building-an-xdg-app-part-3/"} part 3&#x000A;&#x000A;%code files/share/app-info/xmls/org.gnome.Dictionary.xml.gz&#x000A;&#x000A;&#x000A;xdg-app --user update --appstream nightly&#x000A;&#x000A;&#x000A;&#x000A;%a{:href => "https://blogs.gnome.org/alexl/2016/02/11/testing-unstable-gnome-using-xdg-app/"} gnome-software&#x000A;&#x000A;&#x000A;Note: xdg-app-builder automatically runs the appstream-compose command after the build.&#x000A;This will collect information from appdata files and desktop files and create the right xml.gz and icon files.&#x000A;This is where the xml in gnome-dictionary came from.&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%code xdg-app remote-modify&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%code build-update-repo&#x000A;&#x000A;&#x000A;&#x000A;%code xdg-app-builder&#x000A;&#x000A;&#x000A;xdg-app build-export --gpg-sign=KEYID --gpg-homedir=/some/dir appdir repo&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;%a{:href => "http://lists.freedesktop.org/mailman/listinfo/xdg-app"} mailing list&#x000A;&#x000A;%a{:href => "https://bugs.freedesktop.org/enter_bug.cgi?product=xdg-app"} bugzilla&#x000A;&#x000A;&#x000A;&#x000A;git clone https://github.com/alexlarsson/xdg-app.git&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;&#x000A;</pre>
        </div>
      </div>
    </div>
  </section>
  <script src="javascripts/jquery.js"></script>
  <script src="javascripts/jquery.easing.min.js"></script>
  <script src="javascripts/all.js"></script>
  <script src="javascripts/bootstrap.js"></script>
</html>
<script>
  
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-68811788-1']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
